@if (TempData["message"] != null)
{
    <div class="alert @ViewBag.Alert p-3 rounded-3 text-center mb-5">
        @ViewBag.Message
    </div>
}
<br />

<div class="card" style="max-width: 600px; margin: auto;">
    <div class="card-body">
        <h3 class="card-title">Order ID: @Model.OrderId</h3>
        <p><i class="bi bi-calendar"></i> Order Date: @Model.OrderDate</p>
        <p style="color: @(Model.Status == "Pending" || Model.Status == "Processing" || Model.Status == "Shipped" ? "orange" : Model.Status == "Canceled" ? "red" : "green");">
            Order Status: @Model.Status
        </p>
        <p><i class="bi bi-wallet2"></i>Payment Method: @Model.PaymentMethod</p>
        <p><i class="bi bi-house"></i>Shipping Address: @Model.ShippingAddress</p>
        <p>Cart Number: @Model.CartId</p>
        @if (Model.Cart != null && Model.Cart.User != null)
        {
            <p>Username: @Model.Cart.User.UserName</p>
            <p>ID: @Model.Cart.User.Id</p>
        }
        else
        {
            <p>User: Not available</p>
        }


        <div class="d-flex flex-column align-items-start gap-2">
            <a class="btn btn-success btn-sm text-center" style="background-color:#A74DBA; color: white; border: none; width: 150px;" asp-controller="Orders" asp-action="Edit" asp-route-id="@Model.OrderId">
                Edit Order
            </a>
            <form method="post" asp-controller="Orders" asp-action="Delete" asp-route-id="@Model.OrderId">
                <button class="btn btn-danger btn-sm text-center" style="background-color: #A74DBA; color: white; border: none; width: 150px;" type="submit">
                    Delete Order
                </button>
            </form>
        </div>

    <div class="d-flex flex-column gap-2 mt-3">
        @foreach (var cartProduct in Model.Cart.CartProducts)
        {
            <div>
                <p class="mb-1">Product ID: @cartProduct.ProductId</p>
                <div class="d-flex gap-1 flex-wrap">
                    <a asp-controller="Products" asp-action="Show" asp-route-id="@cartProduct.ProductId"
                       class="btn btn-sm"
                       style="background-color: #5ba4ff; color: white; border: none; width: 150px;">
                            <i class="bi bi-eye"></i> View Product Details
                    </a>
                </div>
            </div>
        }
    </div>
    </div>
</div>
